---
title: 'Status de CT-e OS'
description: 'Consulta o status atual de um CT-e OS'
---

# Status de CT-e OS

A rota de status permite consultar o status atual de um CT-e OS, incluindo informa√ß√µes sobre emiss√£o, autoriza√ß√£o, cancelamento e eventos relacionados.

## Endpoint de Status

```http
GET https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/status
```

## Autentica√ß√£o

### **Headers Obrigat√≥rios**

```http
Authorization: Basic YWRtaW46MTIzbXVkYXI=
```

## Par√¢metros da Requisi√ß√£o

### **Par√¢metros de Query**

| Par√¢metro | Tipo | Obrigat√≥rio | Descri√ß√£o | Exemplo |
|-----------|------|-------------|-----------|---------|
| `Grupo` | string | ‚úÖ | Nome do grupo configurado no SaaS | `GRUPO_EMPRESA` |
| `CNPJ` | string | ‚úÖ | CNPJ do emitente (apenas n√∫meros) | `11111111111111` |
| `ChaveNota` | string | ‚úÖ | Chave do CT-e OS (44 d√≠gitos) | `41150408187168000160576660000006671000000012` |

## Exemplo de Requisi√ß√£o

```bash
curl -X GET "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/status?Grupo=GRUPO_EMPRESA&CNPJ=11111111111111&ChaveNota=41150408187168000160576660000006671000000012" \
  -H "Authorization: Basic YWRtaW46MTIzbXVkYXI="
```

## Respostas da API

### **Resposta de Sucesso**

```json
{
  "success": true,
  "data": {
    "id": "cte_123456789",
    "numero": "000000001",
    "serie": "1",
    "chave": "41150408187168000160576660000006671000000012",
    "status": "AUTORIZADO",
    "protocolo": "123456789012345",
    "data_emissao": "2024-01-01T12:00:00Z",
    "data_autorizacao": "2024-01-01T12:01:00Z",
    "data_cancelamento": null,
    "motivo_cancelamento": null,
    "eventos": [
      {
        "tipo": "EMISSAO",
        "data": "2024-01-01T12:00:00Z",
        "status": "SUCESSO",
        "mensagem": "Documento emitido com sucesso"
      },
      {
        "tipo": "ENVIO_SEFAZ",
        "data": "2024-01-01T12:00:30Z",
        "status": "SUCESSO",
        "mensagem": "Enviado para SEFAZ"
      },
      {
        "tipo": "AUTORIZACAO",
        "data": "2024-01-01T12:01:00Z",
        "status": "SUCESSO",
        "mensagem": "Autorizado pela SEFAZ"
      }
    ]
  },
  "meta": {
    "timestamp": "2024-01-01T12:00:00Z",
    "request_id": "req_1234567890abcdef",
    "version": "1.0"
  }
}
```

### **Resposta de Erro**

```json
{
  "success": false,
  "error": {
    "code": "CTE_NOT_FOUND",
    "message": "CT-e OS n√£o encontrado",
    "details": [
      {
        "field": "chave",
        "message": "CT-e OS com chave especificada n√£o existe"
      }
    ],
    "request_id": "req_1234567890abcdef",
    "timestamp": "2024-01-01T12:00:00Z"
  }
}
```

## Status Poss√≠veis

### **üìä Estados do Documento**

| Status | Descri√ß√£o | A√ß√£o Permitida |
|--------|-----------|----------------|
| **PENDENTE** | Documento criado, aguardando envio | Enviar para SEFAZ |
| **ENVIANDO** | Documento sendo enviado para SEFAZ | Aguardar resposta |
| **AUTORIZADO** | Documento autorizado pela SEFAZ | Download, Cancelamento |
| **REJEITADO** | Documento rejeitado pela SEFAZ | Corre√ß√£o e reenvio |
| **CANCELADO** | Documento cancelado | Nenhuma |
| **DENEGADO** | Documento denegado pela SEFAZ | Nenhuma |
| **INUTILIZADO** | Documento inutilizado | Descarte |

### **üìã Tipos de Eventos**

| Tipo | Descri√ß√£o | Status |
|------|-----------|--------|
| **EMISSAO** | Cria√ß√£o do documento | SUCCESS, ERROR |
| **ENVIO_SEFAZ** | Envio para SEFAZ | SUCCESS, ERROR |
| **AUTORIZACAO** | Autoriza√ß√£o da SEFAZ | SUCCESS, ERROR |
| **REJEICAO** | Rejei√ß√£o da SEFAZ | SUCCESS, ERROR |
| **CANCELAMENTO** | Cancelamento do documento | SUCCESS, ERROR |

## Implementa√ß√£o

### **JavaScript/Node.js**

```javascript
const consultarStatus = async (params) => {
  const queryParams = new URLSearchParams({
    Grupo: params.grupo,
    CNPJ: params.cnpj,
    ChaveNota: params.chaveNota
  });
  
  try {
    const response = await fetch(`https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/status?${queryParams}`, {
      method: 'GET',
      headers: {
        'Authorization': 'Basic YWRtaW46MTIzbXVkYXI='
      }
    });
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const resultado = await response.json();
    
    if (resultado.success) {
      return resultado.data;
    } else {
      throw new Error(resultado.error.message);
    }
    
  } catch (error) {
    console.error('Erro na consulta de status:', error);
    throw error;
  }
};

// Uso
const status = await consultarStatus({
  grupo: 'GRUPO_EMPRESA',
  cnpj: '11111111111111',
  chaveNota: '41150408187168000160576660000006671000000012'
});

console.log('Status:', status.status);
console.log('Eventos:', status.eventos);
```

### **Python**

```python
import requests

def consultar_status(params):
    url = "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/status"
    
    headers = {
        'Authorization': 'Basic YWRtaW46MTIzbXVkYXI='
    }
    
    params_query = {
        'Grupo': params['grupo'],
        'CNPJ': params['cnpj'],
        'ChaveNota': params['chave_nota']
    }
    
    try:
        response = requests.get(url, headers=headers, params=params_query)
        response.raise_for_status()
        
        resultado = response.json()
        
        if resultado['success']:
            return resultado['data']
        else:
            raise Exception(resultado['error']['message'])
            
    except requests.exceptions.RequestException as e:
        print(f"Erro na consulta de status: {e}")
        raise

# Uso
status = consultar_status({
    'grupo': 'GRUPO_EMPRESA',
    'cnpj': '11111111111111',
    'chave_nota': '41150408187168000160576660000006671000000012'
})

print(f"Status: {status['status']}")
print(f"Eventos: {status['eventos']}")
```

### **PHP**

```php
function consultarStatus($params) {
    $url = "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/status";
    
    $headers = [
        'Authorization: Basic YWRtaW46MTIzbXVkYXI='
    ];
    
    $queryParams = http_build_query([
        'Grupo' => $params['grupo'],
        'CNPJ' => $params['cnpj'],
        'ChaveNota' => $params['chaveNota']
    ]);
    
    $fullUrl = $url . '?' . $queryParams;
    
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $fullUrl);
    curl_setopt($ch, CURLOPT_HTTPGET, true);
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    
    $response = curl_exec($ch);
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    curl_close($ch);
    
    if ($httpCode !== 200) {
        throw new Exception("Erro HTTP: " . $httpCode);
    }
    
    $resultado = json_decode($response, true);
    
    if ($resultado['success']) {
        return $resultado['data'];
    } else {
        throw new Exception($resultado['error']['message']);
    }
}

// Uso
try {
    $status = consultarStatus([
        'grupo' => 'GRUPO_EMPRESA',
        'cnpj' => '11111111111111',
        'chaveNota' => '41150408187168000160576660000006671000000012'
    ]);
    
    echo "Status: " . $status['status'] . "\n";
    echo "Eventos: " . json_encode($status['eventos']) . "\n";
    
} catch (Exception $e) {
    echo "Erro: " . $e->getMessage() . "\n";
}
```

## Monitoramento de Status

### **üîÑ Consulta Peri√≥dica**

```javascript
const monitorarStatus = async (chaveNota, intervalo = 5000) => {
  return new Promise((resolve, reject) => {
    const interval = setInterval(async () => {
      try {
        const status = await consultarStatus({
          grupo: 'GRUPO_EMPRESA',
          cnpj: '11111111111111',
          chaveNota: chaveNota
        });
        
        if (['AUTORIZADO', 'REJEITADO', 'CANCELADO'].includes(status.status)) {
          clearInterval(interval);
          resolve(status);
        }
        
      } catch (error) {
        clearInterval(interval);
        reject(error);
      }
    }, intervalo);
    
    // Timeout ap√≥s 5 minutos
    setTimeout(() => {
      clearInterval(interval);
      reject(new Error('Timeout na consulta de status'));
    }, 300000);
  });
};
```

### **üìä Hist√≥rico de Eventos**

```javascript
const analisarEventos = (eventos) => {
  const analise = {
    total: eventos.length,
    sucessos: eventos.filter(e => e.status === 'SUCCESS').length,
    erros: eventos.filter(e => e.status === 'ERROR').length,
    ultimoEvento: eventos[eventos.length - 1],
    tempoProcessamento: null
  };
  
  if (eventos.length >= 2) {
    const primeiro = new Date(eventos[0].data);
    const ultimo = new Date(eventos[eventos.length - 1].data);
    analise.tempoProcessamento = ultimo - primeiro;
  }
  
  return analise;
};
```

## Casos de Uso

### **1. Acompanhamento de Emiss√£o**
- Monitorar status ap√≥s envio para SEFAZ
- Identificar problemas na autoriza√ß√£o
- Acompanhar tempo de processamento

### **2. Auditoria e Compliance**
- Verificar hist√≥rico de eventos
- Validar conformidade com regras fiscais
- Rastrear mudan√ßas de status

### **3. Integra√ß√£o com Sistemas**
- Sincroniza√ß√£o de status em tempo real
- Notifica√ß√µes autom√°ticas de mudan√ßas
- Dashboard de monitoramento

### **4. Suporte e Troubleshooting**
- Identificar problemas espec√≠ficos
- Rastrear falhas na emiss√£o
- An√°lise de performance

## Limita√ß√µes

- Apenas documentos do grupo/CNPJ especificado
- Hist√≥rico limitado aos √∫ltimos eventos
- Rate limiting aplicado √†s consultas
- Dados em tempo real (n√£o cacheados)

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card
    title="Emiss√£o de CT-e OS"
    href="/api/endpoints/emission"
    icon="rocket"
  >
    Emita novos documentos
  </Card>
  <Card
    title="Envio para SEFAZ"
    href="/api/endpoints/sending"
    icon="send"
  >
    Envie para autoriza√ß√£o
  </Card>
  <Card
    title="Cancelamento"
    href="/api/endpoints/cancellation"
    icon="x-circle"
  >
    Cancele documentos
  </Card>
  <Card
    title="Suporte"
    href="mailto:suporte@managersaas.com"
    icon="message-circle"
  >
    Entre em contato
  </Card>
</CardGroup>

---

üìä **Status em Tempo Real**: Monitore o status de seus CT-e OS em tempo real. Para d√∫vidas sobre consultas de status, consulte nossa equipe de suporte. 