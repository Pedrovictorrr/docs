---
title: Inutilizar uma Faixa de Numeração
description: Documentação da rota para inutilização de faixas de numeração do CT-e OS
---

# Inutilizar uma Faixa de Numeração

## ⚠️ ATENÇÃO IMPORTANTE

**A partir de 24/04/2023 para ambientes de homologação e 26/06/2023 para ambientes de produção, o serviço de Inutilização de CT-e OS será desativado pela SEFAZ conforme Norma Técnica 2023.001.**

## Descrição

A rota **inutiliza** é utilizada quando deixamos um "furo" na nossa numeração. Por exemplo: Autorizamos um CT-e com o número 1 e um outro com o número 4. A SEFAZ não aceita esse "pulo" na numeração.

Dessa forma, pela rota inutiliza, conseguimos inutilizar um número ou uma faixa de números, de modo que a SEFAZ não venha cobrar uma multa posteriormente pelo "furo" na numeração.

## Endpoint

### POST

```http
POST https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/inutiliza
```

## Headers

| Nome | Descrição | Exemplo |
|------|-----------|---------|
| `Content-Type` | Indica o tipo de arquivo | `application/x-www-form-urlencoded` |
| `Authorization` | Este usuário e senha são os seus dados para logar como administrador em um grupo do SaaS | `Basic YWRtaW46MTIzbXVkYXI=` |

## Body Parameters

| Nome | Descrição | Exemplo |
|------|-----------|---------|
| `Grupo` | Nome do grupo | `meugrupo` |
| `CNPJ` | CNPJ do emitente da CT-e OS, apenas números | `08187168000160` |
| `Ano` | Ano de inutilização, com apenas 2 dígitos. Se o ano for 2018 deve ser preenchido apenas com 18 | `24` (para 2024) |
| `Serie` | Série da faixa de numeração que será inutilizada | `1` |
| `CTIni` | Número inicial da faixa que será inutilizada | `10` |
| `CTFin` | Número final da faixa que será inutilizada | `15` |
| `Justificativa` | Justificativa da inutilização, deve conter, no mínimo, 15 caracteres | `Inutilização de faixa de numeração não utilizada devido a problemas técnicos no sistema` |

## Exemplos de Uso

### Exemplo 1: Inutilizar Faixa Simples

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/inutiliza" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -H "Authorization: Basic YWRtaW46MTIzbXVkYXI=" \
  -d "Grupo=meugrupo&CNPJ=08187168000160&Ano=24&Serie=1&CTIni=10&CTFin=15&Justificativa=Inutilização de faixa de numeração não utilizada devido a problemas técnicos no sistema"
```

### Exemplo 2: Inutilizar Número Único

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/inutiliza" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -H "Authorization: Basic YWRtaW46MTIzbXVkYXI=" \
  -d "Grupo=meugrupo&CNPJ=08187168000160&Ano=24&Serie=1&CTIni=25&CTFin=25&Justificativa=Número 25 inutilizado devido a erro de digitação"
```

### Exemplo 3: Inutilizar Múltiplas Séries

```bash
# Série 1 - Números 1 a 5
curl -X POST "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/inutiliza" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -H "Authorization: Basic YWRtaW46MTIzbXVkYXI=" \
  -d "Grupo=meugrupo&CNPJ=08187168000160&Ano=24&Serie=1&CTIni=1&CTFin=5&Justificativa=Inutilização da série 1 números 1 a 5 devido a problemas de configuração inicial"

# Série 2 - Números 10 a 20
curl -X POST "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/inutiliza" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -H "Authorization: Basic YWRtaW46MTIzbXVkYXI=" \
  -d "Grupo=meugrupo&CNPJ=08187168000160&Ano=24&Serie=2&CTIni=10&CTFin=20&Justificativa=Inutilização da série 2 números 10 a 20 devido a mudança de sistema"
```

## Respostas

### Exemplo de Retorno com Sucesso

```text
Protocolo de autorização, cStat, Mensagem da Sefaz.

123456789102345,102,Inutilização de faixa homologado com sucesso.
```

**Campos da resposta:**
- **Protocolo**: `123456789102345`
- **cStat**: `102`
- **Mensagem**: `Inutilização de faixa homologado com sucesso`

### Exemplo de Retorno com Erro

```text
"Palavra Exception", "Classe da Exception", "Mensagem de Exception"
EXCEPTION, EspdManCTeOSInutilizaException, Problema ao inutilizar. Exception: Erro durante a comunicação com servidor: Certificado vencido em: 29/07/2017 18:51:00
```

## Códigos de Status (cStat)

### Códigos de Sucesso
- **102**: Inutilização de faixa homologado com sucesso
- **103**: Inutilização de faixa autorizado com sucesso

### Códigos de Rejeição Comuns
- **108**: Inutilização não permitida para o ambiente
- **109**: Inutilização não permitida para a UF
- **110**: Inutilização não permitida para o ano
- **111**: Inutilização não permitida para a série
- **112**: Inutilização não permitida para a faixa de numeração

## Parâmetros Obrigatórios

1. **`Grupo`** - Nome do grupo configurado no SaaS
2. **`CNPJ`** - CNPJ do emitente (apenas números)
3. **`Ano`** - Ano com 2 dígitos (ex: 24 para 2024)
4. **`Serie`** - Série da numeração
5. **`CTIni`** - Número inicial da faixa
6. **`CTFin`** - Número final da faixa
7. **`Justificativa`** - Mínimo 15 caracteres

## Casos de Uso

### 1. **Problemas Técnicos**
- Sistema fora do ar
- Erros de configuração
- Problemas de conectividade

### 2. **Mudanças de Sistema**
- Migração de software
- Alteração de numeração
- Reestruturação de séries

### 3. **Erros de Digitação**
- Números incorretos
- Duplicação acidental
- Sequência incorreta

### 4. **Manutenção Preventiva**
- Limpeza de numeração
- Organização de séries
- Padronização de processos

## Regras e Validações

### **Validações da SEFAZ:**
1. **Ano**: Deve ser o ano atual ou anterior
2. **Série**: Deve estar cadastrada no CNPJ
3. **Faixa**: Números devem estar disponíveis
4. **Justificativa**: Mínimo 15 caracteres
5. **Ambiente**: Homologação ou Produção

### **Limitações:**
1. **Período**: Apenas anos válidos
2. **Série**: Deve existir no cadastro
3. **Faixa**: Números não podem estar em uso
4. **Frequência**: Evitar múltiplas inutilizações

## Exemplos de Implementação

### **Python**

```python
import requests

def inutilizar_faixa_cteos(grupo, cnpj, ano, serie, ct_ini, ct_fin, justificativa):
    """
    Inutiliza uma faixa de numeração do CT-e OS
    """
    url = "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/inutiliza"
    
    data = {
        'Grupo': grupo,
        'CNPJ': cnpj,
        'Ano': ano,
        'Serie': serie,
        'CTIni': ct_ini,
        'CTFin': ct_fin,
        'Justificativa': justificativa
    }
    
    headers = {
        'Content-Type': 'application/x-www-form-urlencoded',
        'Authorization': 'Basic YWRtaW46MTIzbXVkYXI='
    }
    
    response = requests.post(url, data=data, headers=headers)
    
    if response.status_code == 200:
        return response.text
    else:
        return f'Erro HTTP: {response.status_code} - {response.text}'

# Exemplo de uso
resultado = inutilizar_faixa_cteos(
    grupo='meugrupo',
    cnpj='08187168000160',
    ano='24',
    serie='1',
    ct_ini='10',
    ct_fin='15',
    justificativa='Inutilização de faixa de numeração não utilizada devido a problemas técnicos no sistema'
)
print(resultado)
```

### **PHP**

```php
<?php
function inutilizarFaixaCTeOS($grupo, $cnpj, $ano, $serie, $ctIni, $ctFin, $justificativa) {
    $url = "https://managersaas.tecnospeed.com.br:8081/ManagerAPIWeb/cteos/inutiliza";
    
    $data = http_build_query([
        'Grupo' => $grupo,
        'CNPJ' => $cnpj,
        'Ano' => $ano,
        'Serie' => $serie,
        'CTIni' => $ctIni,
        'CTFin' => $ctFin,
        'Justificativa' => $justificativa
    ]);
    
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_POST, true);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Content-Type: application/x-www-form-urlencoded',
        'Authorization: Basic YWRtaW46MTIzbXVkYXI='
    ]);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    
    $response = curl_exec($ch);
    $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    curl_close($ch);
    
    if ($httpCode == 200) {
        return $response;
    } else {
        return "Erro HTTP: {$httpCode} - {$response}";
    }
}

// Exemplo de uso
$resultado = inutilizarFaixaCTeOS(
    'meugrupo',
    '08187168000160',
    '24',
    '1',
    '10',
    '15',
    'Inutilização de faixa de numeração não utilizada devido a problemas técnicos no sistema'
);
echo $resultado;
?>
```

## Fluxo de Inutilização

```
Identificar Faixa a Inutilizar
           ↓
    Verificar Disponibilidade
           ↓
    Preparar Parâmetros
           ↓
    Enviar para SEFAZ
           ↓
    Aguardar Resposta
           ↓
    Processar Retorno
           ↓
    Faixa Inutilizada
```

## Observações Importantes

### **⚠️ DESCONTINUAÇÃO DO SERVIÇO:**
- **Homologação**: Desativado a partir de 24/04/2023
- **Produção**: Desativado a partir de 26/06/2023
- **Norma Técnica**: 2023.001 da SEFAZ

### **Alternativas Recomendadas:**
1. **Planejamento**: Organizar numeração antecipadamente
2. **Controle**: Implementar validações no sistema
3. **Monitoramento**: Acompanhar sequência de numeração
4. **Prevenção**: Evitar "buracos" na numeração

## Tratamento de Erros

### Erros Comuns

- **"Certificado vencido"** - Renovar certificado digital
- **"Inutilização não permitida"** - Verificar parâmetros
- **"Faixa já utilizada"** - Verificar disponibilidade dos números
- **"Série não cadastrada"** - Verificar cadastro da série

### Validações

1. Verificar se o certificado digital está válido
2. Confirmar se a série está cadastrada no CNPJ
3. Validar se a faixa está disponível para inutilização
4. Verificar se a justificativa tem pelo menos 15 caracteres
5. Confirmar se o ano está dentro do período permitido

## Boas Práticas

1. **Planejar numeração** antecipadamente
2. **Evitar inutilizações** desnecessárias
3. **Documentar justificativas** claras e objetivas
4. **Monitorar sequência** de numeração
5. **Implementar validações** no sistema
6. **Considerar alternativas** à inutilização
