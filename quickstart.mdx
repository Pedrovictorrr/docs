---
title: 'Primeiros Passos - Manager SaaS CT-e'
description: 'Configure sua primeira integra√ß√£o com o Manager SaaS CT-e em minutos'
---

# Primeiros Passos - Manager SaaS CT-e

Configure sua primeira integra√ß√£o com o Manager SaaS CT-e em poucos minutos e comece a emitir Conhecimentos de Transporte Eletr√¥nico.

## Pr√©-requisitos

### **Conta Manager SaaS**
- Conta ativa no Manager SaaS
- Token de acesso v√°lido
- Configura√ß√µes de ambiente configuradas

### **Dados da Empresa**
- CNPJ/CPF v√°lido
- Inscri√ß√£o estadual ativa
- Certificado digital (se aplic√°vel)
- Dados de endere√ßo completos

### **Ambiente de Desenvolvimento**
- Editor de c√≥digo ou IDE
- Cliente HTTP (cURL, Postman, Insomnia)
- Conhecimento b√°sico de APIs REST

## Passo 1: Autentica√ß√£o e Obten√ß√£o de Token

### **1.1 Endpoint de Autentica√ß√£o**

Para obter o token de autentica√ß√£o, fa√ßa uma requisi√ß√£o para:

**Endpoint:** `https://managersaas.tecnospeed.com.br:1337/api/v1/software-house/token`

**M√©todo:** `POST`

**Headers:**
```http
Content-Type: application/json
```

**Body:**
```json
{
  "email": "seu_email@exemplo.com",
  "senha": "sua_senha",
  "gerar": 1,
  "api": 0
}
```

### **1.2 Par√¢metros do Body**

| Par√¢metro | Descri√ß√£o | Valores |
|-----------|-----------|---------|
| `email` | E-mail do login da Software House | String |
| `senha` | Senha da Software House | String |
| `gerar` | Indica se o token deve ser gerado | `1` - Gerar novo token<br>`0` - N√£o gerar |
| `api` | Tipo de token a ser gerado | `1` - Token da API (sem expira√ß√£o)<br>`0` - Token com data de expira√ß√£o |

### **1.3 Exemplo de Requisi√ß√£o**

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/software-house/token" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "seu_email@exemplo.com",
    "senha": "sua_senha",
    "gerar": 1,
    "api": 0
  }'
```

<Note>
‚ö†Ô∏è **Importante**: Guarde seu token em local seguro. Ele n√£o ser√° exibido novamente.
</Note>

## Passo 2: Configura√ß√£o do Ambiente

### **2.1 Vari√°veis de Ambiente**

Crie um arquivo `.env` com suas credenciais:

```bash
# Manager SaaS Configuration
MANAGER_SAAS_API_URL=https://managersaas.tecnospeed.com.br:1337/api/v1
MANAGER_SAAS_TOKEN=seu_token_aqui
MANAGER_SAAS_ENVIRONMENT=production
```

### **2.2 Configura√ß√£o do Cliente HTTP**

Configure o Postman ou Insomnia:

- **Base URL**: `https://managersaas.tecnospeed.com.br:1337/api/v1`
- **Authorization**: `Bearer SEU_TOKEN`
- **Content-Type**: `application/json`

## Passo 3: Primeira Requisi√ß√£o

### **3.1 Teste de Conex√£o**

Vamos testar se sua conex√£o est√° funcionando:

```bash
curl -X GET "https://managersaas.tecnospeed.com.br:1337/api/v1/status" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json"
```

**Resposta esperada:**
```json
{
  "status": "success",
  "message": "API funcionando normalmente",
  "timestamp": "2024-01-15T10:30:00Z",
  "version": "1.0.0"
}
```

### **3.2 Consulta de Configura√ß√µes**

Verifique suas configura√ß√µes de empresa:

```bash
curl -X GET "https://managersaas.tecnospeed.com.br:1337/api/v1/empresa/configuracoes" \
  -H "Authorization: Bearer SEU_TOKEN"
```

## Passo 4: Emitir Primeiro CT-e OS

### **4.1 Emiss√£o de CT-e OS**

Vamos emitir um CT-e OS simples para teste:

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/os/emitir" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "tipo_documento": "CTE_OS",
    "emissor": {
      "cnpj": "12345678000199",
      "inscricao_estadual": "123456789",
      "razao_social": "SUA EMPRESA LTDA",
      "endereco": {
        "logradouro": "Rua Exemplo, 123",
        "bairro": "Centro",
        "municipio": "S√£o Paulo",
        "uf": "SP",
        "cep": "01234-567"
      }
    },
    "tomador": {
      "cnpj": "98765432000188",
      "razao_social": "CLIENTE TESTE LTDA",
      "endereco": {
        "logradouro": "Av. Teste, 1000",
        "bairro": "Teste",
        "municipio": "S√£o Paulo",
        "uf": "SP",
        "cep": "01310-100"
      }
    },
    "servico": {
      "descricao": "Servi√ßo de teste - Manager SaaS",
      "valor_frete": 100.00,
      "valor_total": 100.00
    }
  }'
```

### **4.2 Resposta da Emiss√£o**

```json
{
  "status": "success",
  "message": "CT-e OS emitido com sucesso",
  "data": {
    "numero": "123456",
    "chave_acesso": "35231234567890123456789012345678901234567890",
    "protocolo": "123456789012345",
    "data_emissao": "2024-01-15T10:30:00Z",
    "status": "AUTORIZADO",
    "xml_url": "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/os/123456/xml",
    "pdf_url": "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/os/123456/pdf"
  }
}
```

## Passo 5: Monitorar o Status

### **5.1 Consulta de Status**

```bash
curl -X GET "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/os/123456/status" \
  -H "Authorization: Bearer SEU_TOKEN"
```

### **5.2 Download dos Arquivos**

```bash
# Download do XML
curl -X GET "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/os/123456/xml" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -o cte_os_123456.xml

# Download do PDF
curl -X GET "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/os/123456/pdf" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -o cte_os_123456.pdf
```

## Passo 6: Configurar Monitorador de Pastas

### **6.1 Estrutura de Pastas**

Crie a seguinte estrutura no seu servidor:

```
/manager-saas/
‚îú‚îÄ‚îÄ entrada/
‚îÇ   ‚îú‚îÄ‚îÄ cte/
‚îÇ   ‚îú‚îÄ‚îÄ nfe/
‚îÇ   ‚îî‚îÄ‚îÄ nfce/
‚îú‚îÄ‚îÄ saida/
‚îÇ   ‚îú‚îÄ‚îÄ processados/
‚îÇ   ‚îú‚îÄ‚îÄ erros/
‚îÇ   ‚îî‚îÄ‚îÄ logs/
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ config.txt
```

### **6.2 Arquivo de Configura√ß√£o**

Crie `config/config.txt`:

```txt
API_URL=https://managersaas.tecnospeed.com.br:1337/api/v1
TOKEN=seu_token_aqui
EMPRESA_ID=seu_empresa_id
AMBIENTE=production
INTERVALO_MONITORAMENTO=30
```

### **6.3 Arquivo de Entrada**

Crie um arquivo de teste em `entrada/cte/`:

```txt
TIPO_DOCUMENTO=CTE_OS
EMISSOR_CNPJ=12345678000199
EMISSOR_IE=123456789
EMISSOR_RAZAO_SOCIAL=SUA EMPRESA LTDA
TOMADOR_CNPJ=98765432000188
TOMADOR_RAZAO_SOCIAL=CLIENTE TESTE LTDA
SERVICO_DESCRICAO=Servi√ßo via monitorador
SERVICO_VALOR_FRETE=150.00
SERVICO_VALOR_TOTAL=150.00
```

## Passo 7: Configura√ß√µes Avan√ßadas

### **7.1 Configura√ß√µes MODO**

Para personalizar o comportamento do sistema, utilize as configura√ß√µes MODO:

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/configuracao" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "GetConfig": 1,
    "AutoEmail": 1,
    "AutoImprimir": 1,
    "Modo": "NORMAL",
    "Ambiente": 1
  }'
```

### **7.2 Configura√ß√µes de Certificado**

Configure seu certificado digital:

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/certificado/configurar" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "Repositorio": "LOCAL_MACHINE_STORE",
    "NomeCertificado": "SEU_CNPJ",
    "PinCode": "sua_senha_certificado"
  }'
```

## Passo 8: Implementar em Produ√ß√£o

### **8.1 Tratamento de Erros**

```javascript
try {
  const response = await fetch('https://managersaas.tecnospeed.com.br:1337/api/v1/cte/os/emitir', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(dados)
  });
  
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  
  const result = await response.json();
  console.log('Documento emitido:', result);
  
} catch (error) {
  console.error('Erro na emiss√£o:', error);
  // Implementar retry logic ou notifica√ß√£o
}
```

### **8.2 Webhooks**

Configure webhooks para receber notifica√ß√µes em tempo real:

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/webhooks/configurar" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://seu-site.com/webhook",
    "eventos": ["documento_autorizado", "documento_rejeitado"],
    "ativo": true
  }'
```

## Passo 9: Funcionalidades Avan√ßadas

### **9.1 Carta de Corre√ß√£o Eletr√¥nica**

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/cce/enviar" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "numero_cte": "123456",
    "correcoes": [
      {
        "campo": "valor_frete",
        "valor_anterior": "100.00",
        "valor_corrigido": "150.00"
      }
    ]
  }'
```

### **9.2 Cancelamento de CT-e**

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/cancelar" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "numero_cte": "123456",
    "justificativa": "Erro nos dados do documento"
  }'
```

### **9.3 Pr√©via do DACTE**

```bash
curl -X POST "https://managersaas.tecnospeed.com.br:1337/api/v1/cte/prever-dacte" \
  -H "Authorization: Bearer SEU_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "dados_cte": {
      "emissor": {...},
      "tomador": {...},
      "servico": {...}
    }
  }'
```

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card
    title="Vis√£o Geral CT-e"
    href="/documents/cte/overview"
    icon="file-text"
  >
    Conhe√ßa todos os detalhes sobre CT-e
  </Card>
  <Card
    title="Emiss√£o CT-e OS"
    href="/documents/cte/os-emission"
    icon="clipboard-list"
  >
    Aprenda sobre emiss√£o de CT-e OS
  </Card>
  <Card
    title="Autentica√ß√£o"
    href="/documents/cte/autenticacao"
    icon="key"
  >
    Configura√ß√£o de autentica√ß√£o
  </Card>
  <Card
    title="Configura√ß√µes"
    href="/documents/cte/configuracao-modo"
    icon="settings"
  >
    Configura√ß√µes avan√ßadas do sistema
  </Card>
</CardGroup>

## Solu√ß√£o de Problemas

### **Erro 401 - N√£o Autorizado**
- Verifique se o token est√° correto
- Confirme se o token n√£o expirou
- Verifique as permiss√µes da chave

### **Erro 400 - Dados Inv√°lidos**
- Revise os dados enviados
- Verifique campos obrigat√≥rios
- Confirme formatos de data e valores

### **Erro 500 - Erro Interno**
- Entre em contato com o suporte
- Verifique o status da API
- Aguarde alguns minutos e tente novamente

## Recursos Adicionais

- **Documenta√ß√£o Completa**: [docs.managersaas.com](https://docs.managersaas.com)
- **Status da API**: [status.managersaas.com](https://status.managersaas.com)
- **Suporte**: suporte@managersaas.com
- **Dashboard**: [dashboard.managersaas.com](https://dashboard.managersaas.com)

---

üéâ **Parab√©ns!** Voc√™ configurou com sucesso sua integra√ß√£o com o Manager SaaS CT-e. Agora pode come√ßar a emitir Conhecimentos de Transporte Eletr√¥nico de forma automatizada e eficiente.
